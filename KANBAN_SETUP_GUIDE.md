# ğŸ—ºï¸ Kanban Roadmap - HÆ°á»›ng Dáº«n Triá»ƒn Khai

**Last Updated:** 2026-02-16

## ğŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng Kanban Roadmap cho phÃ©p:
- âœ… Hiá»ƒn thá»‹ roadmap theo dáº¡ng Kanban board (BACKLOG â†’ TO DO â†’ IN PROGRESS â†’ IN REVIEW â†’ DONE)
- âœ… User Ä‘Äƒng nháº­p email Ä‘á»ƒ Ä‘á» xuáº¥t tÃ­nh nÄƒng má»›i (tá»± Ä‘á»™ng vÃ o **BACKLOG**)
- âœ… Admin review hoáº·c 10+ votes â†’ chuyá»ƒn tá»« BACKLOG sang TODO
- âœ… Community vote cho tÃ­nh nÄƒng mong muá»‘n
- âœ… Auto-sync vá»›i Google Sheets backend
- âœ… TÃ­ch há»£p REAL features tá»« changelog.md (FreedomWallet + FreedomWalletBot)

## ğŸ¯ Cáº¥u TrÃºc Kanban Board

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKLOG  â”‚  TO DO   â”‚ IN PROGRESS â”‚ IN REVIEW  â”‚   DONE   â”‚
â”‚   ğŸ’¡      â”‚   ğŸ“‹     â”‚     ğŸ”¨      â”‚    ğŸ”      â”‚    âœ…    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Card 1    â”‚ Card 5   â”‚ Card 9      â”‚ Card 11    â”‚ Card 13  â”‚
â”‚ Card 2    â”‚ Card 6   â”‚ Card 10     â”‚ Card 12    â”‚ Card 14  â”‚
â”‚ Card 3    â”‚ Card 7   â”‚             â”‚            â”‚ Card 15  â”‚
â”‚ Card 4    â”‚ Card 8   â”‚             â”‚            â”‚ Card 16  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Workflow

```
User Äá» Xuáº¥t â†’ BACKLOG (ğŸ’¡) â†’ (Admin review OR 10+ votes) â†’ TODO (ğŸ“‹) â†’ IN PROGRESS (ğŸ”¨) â†’ IN REVIEW (ğŸ”) â†’ DONE (âœ…)
```

- **BACKLOG:** Community suggestions chá» admin xem xÃ©t
- **TODO:** Features Ä‘Æ°á»£c approve, sáºµn sÃ ng develop
- **IN PROGRESS:** Äang code
- **IN REVIEW:** Äang testing/QA
- **DONE:** ÄÃ£ release (tham kháº£o tá»« changelog.md)

### Card Structure
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”— Káº¿t ná»‘i ngÃ¢n hÃ ng      [âœ¨ FEATURE]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tá»± Ä‘á»™ng sync giao dá»‹ch tá»« ngÃ¢n hÃ ng  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ‘ Vote (15)]          #FW004       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Setup Backend (Google Apps Script)

### BÆ°á»›c 1: Open Google Apps Script

1. Má»Ÿ Google Sheet Ä‘ang dÃ¹ng cho registrations
2. Go to: **Extensions â†’ Apps Script**
3. TÃ¬m file `google_apps_script.gs` hiá»‡n táº¡i

### BÆ°á»›c 2: Add Kanban Functions

Copy toÃ n bá»™ code tá»« file `google_apps_script_kanban_addon.gs` vÃ  thÃªm vÃ o **cuá»‘i file** `google_apps_script.gs`.

### BÆ°á»›c 3: Update doGet() Function

TÃ¬m function `doGet(e)` vÃ  thÃªm code sau **NGAY SAU** dÃ²ng `const params = e.parameter || {};`:

```javascript
// Handle Kanban requests
if (params.action === 'getFeatures') {
  return handleKanbanGetRequests(params);
}
```

**VÃ Dá»¤:**
```javascript
function doGet(e) {
  try {
    const params = e.parameter || {};
    
    // âœ… THÃŠM PHáº¦N NÃ€Y
    if (params.action === 'getFeatures') {
      return handleKanbanGetRequests(params);
    }
    // âœ… Káº¾T THÃšC
    
    // Test endpoint
    if (params.test) {
      return createJsonResponse(true, 'Freedom Wallet API is working!', {
        // ...existing code
      });
    }
    // ...rest of code
  }
}
```

### BÆ°á»›c 4: Update doPost() Function

TÃ¬m function `doPost(e)` vÃ  thÃªm code sau **NGAY SAU** dÃ²ng `const data = parseRequestData(e);`:

```javascript
// Handle Kanban requests
if (data.action === 'addFeature' || data.action === 'voteFeature') {
  return handleKanbanPostRequests(data);
}
```

**VÃ Dá»¤:**
```javascript
function doPost(e) {
  try {
    const data = parseRequestData(e);
    
    // âœ… THÃŠM PHáº¦N NÃ€Y
    if (data.action === 'addFeature' || data.action === 'voteFeature') {
      return handleKanbanPostRequests(data);
    }
    // âœ… Káº¾T THÃšC
    
    logInfo('doPost', `Received registration: ${JSON.stringify(data)}`);
    
    // ...rest of code
  }
}
```

### BÆ°á»›c 5: Create Sheets

1. Click **Run** â†’ Select function **`testCreateSheets`**
2. Authorize the script (first time only)
3. Check logs: Should see "âœ… Sheets created successfully!"
4. Verify 2 new sheets created:
   - `Roadmap_Features` (with 10 sample features)
   - `Feature_Votes` (empty, for tracking votes)

### BÆ°á»›c 6: Deploy Script

1. Click **Deploy** â†’ **Manage deployments**
2. Click âš™ï¸ icon next to "Active deployment"
3. Select **"New version"**
4. Add description: "Added Kanban Roadmap features"
5. Click **Deploy**
6. âœ… Done! URL váº«n giá»¯ nguyÃªn

## ğŸ§ª Testing

### Test 1: Get Features
```javascript
// Run function testGetFeatures()
// Should return JSON with 10 sample features
```

### Test 2: Add Feature
```javascript
// Run function testAddFeature()
// Should add a new feature to sheet
```

### Test 3: Vote Feature
```javascript
// Run function testVoteFeature()
// Should increment vote count for feature FW004
```

### Test 4: Via Browser
```
# Get features
https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?action=getFeatures

# Should return JSON with all features
```

## ğŸ“Š Google Sheets Structure

### Sheet: Roadmap_Features
| Cá»™t | TÃªn | MÃ´ táº£ | VÃ­ dá»¥ |
|-----|-----|-------|-------|
| A | ID | Unique ID | FW001, FW002,... |
| B | Timestamp | Thá»i gian táº¡o | 2026-02-16T10:30:00Z |
| C | Email | Email ngÆ°á»i Ä‘á» xuáº¥t | user@example.com |
| D | Title | TÃªn tÃ­nh nÄƒng | Káº¿t ná»‘i ngÃ¢n hÃ ng |
| E | Description | MÃ´ táº£ chi tiáº¿t | Tá»± Ä‘á»™ng sync... |
| F | Type | Loáº¡i | FEATURE/IMPROVEMENT/BUGFIX |
| G | Status | Tráº¡ng thÃ¡i | TODO/IN PROGRESS/IN REVIEW/DONE |
| H | Votes | Sá»‘ vote | 0, 15, 23,... |

### Sheet: Feature_Votes
| Cá»™t | TÃªn | MÃ´ táº£ | VÃ­ dá»¥ |
|-----|-----|-------|-------|
| A | Timestamp | Thá»i gian vote | 2026-02-16T11:00:00Z |
| B | Feature ID | ID tÃ­nh nÄƒng | FW004 |
| C | Email | Email ngÆ°á»i vote | voter@example.com |

## ğŸ¨ Frontend Features

### 1. Kanban Board Display
- Auto-load features tá»« Google Sheets
- Hiá»ƒn thá»‹ theo 4 columns: TODO, IN PROGRESS, IN REVIEW, DONE
- Card shows: Title, Description, Type label, Vote count, ID
- Real-time vote count update

### 2. Feature Request Modal
- User nháº­p email, title, description, type
- Submit â†’ Gá»­i lÃªn Google Sheets
- Auto-refresh Kanban board sau 2s

### 3. Voting System
- Click "Vote" button â†’ Prompt email
- Check duplicate vote (1 email = 1 vote per feature)
- Store vote in Google Sheets
- Update vote count locally + on server
- Gray out voted features

### 4. Local Storage
- LÆ°u user votes trong localStorage
- Prevent multi-vote tá»« cÃ¹ng 1 browser
- Persist qua page reloads

## ğŸ”§ Customization

### Update Card Colors
Edit CSS in `index.html`:
```css
.label-feature {
  background: #e3f2fd;
  color: #1976d2;
}
```

### Add More Statuses
1. Update `KANBAN_CONFIG.STATUSES` in Apps Script
2. Add new column in HTML Kanban board
3. Update `renderKanbanBoard()` function

### Change Sample Features
Edit `addSampleFeatures()` function in Apps Script:
```javascript
const samples = [
  ['FW001', new Date().toISOString(), 'admin@...', 'Your Feature', 'Description', 'FEATURE', 'TODO', 0],
  // Add more...
];
```

## ğŸ› Troubleshooting

### Problem: "KhÃ´ng thá»ƒ táº£i dá»¯ liá»‡u"
**Giáº£i phÃ¡p:**
1. Check Apps Script deployed correctly
2. Verify `GOOGLE_SHEETS_URL` in `index.html` matches deployed URL
3. Check browser console for errors (`F12`)
4. Test endpoint: `YOUR_URL?action=getFeatures` in browser

### Problem: Vote khÃ´ng hoáº¡t Ä‘á»™ng
**Giáº£i phÃ¡p:**
1. Check `Feature_Votes` sheet exists
2. Clear localStorage: `localStorage.clear()`
3. Check Apps Script logs for errors

### Problem: Card khÃ´ng hiá»ƒn thá»‹
**Giáº£i phÃ¡p:**
1. Check `Roadmap_Features` sheet cÃ³ data
2. Verify column structure matches config
3. Run `testGetFeatures()` in Apps Script
4. Check network tab in browser dev tools

## ğŸ“± Mobile Responsive

Kanban board tá»± Ä‘á»™ng adapt:
- Desktop: 4 columns side-by-side
- Tablet: 2 columns
- Mobile: 1 column (scroll vertical)

CSS Grid vá»›i `grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))`

## ğŸ” Security

### Email Validation
- Vote requires email
- Feature request requires email
- Email stored for tracking only

### XSS Prevention
- All user input escaped via `escapeHtml()` function
- Prevents code injection in titles/descriptions

### Rate Limiting
- Consider adding in Apps Script:
```javascript
// Check if same email submitted > 5 features today
if (countRecentSubmissions(email) > 5) {
  return createJsonResponse(false, 'Too many submissions today');
}
```

## ğŸ“ˆ Analytics

Track trong Google Sheets:
- TÃ­nh nÄƒng Ä‘Æ°á»£c vote nhiá»u nháº¥t
- User Ä‘Ã³ng gÃ³p nhiá»u tÃ­nh nÄƒng nháº¥t
- Xu hÆ°á»›ng vote theo thá»i gian

**Query Example:**
```
=QUERY(Roadmap_Features!A:H, "SELECT D, H ORDER BY H DESC LIMIT 5", 1)
```

## ğŸ¯ Next Steps

1. âœ… Setup backend (Apps Script)
2. âœ… Test all functions
3. âœ… Deploy to production
4. ğŸ“¢ Announce to community
5. ğŸ“Š Monitor feedback
6. ğŸ”„ Update roadmap regularly

## ğŸ’¡ Tips

- **TÃ­nh nÄƒng nÃ o priority?** â†’ Sort by votes DESC
- **Cáº­p nháº­t status** â†’ Edit trá»±c tiáº¿p trong Google Sheet â†’ Auto-sync
- **ThÃªm comment?** â†’ Táº¡o sheet `Feature_Comments` (tÆ°Æ¡ng tá»± votes)
- **Email notifications?** â†’ Add trigger in Apps Script

## ğŸ¤ Contributing

Community-driven! Má»i ngÆ°á»i Ä‘á»u cÃ³ thá»ƒ:
- Äá» xuáº¥t tÃ­nh nÄƒng
- Vote cho tÃ­nh nÄƒng
- Comment feedback (coming soon)
- Track progress real-time

---

**Author:** Freedom Wallet Team  
**Version:** 1.0.0  
**Date:** February 16, 2026  
**Contact:** t.me/freedomwalletapp
